<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"

    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"	

      xmlns:f="http://java.sun.com/jsf/core"

      xmlns:h="http://java.sun.com/jsf/html"

      xmlns:p="http://primefaces.org/ui">

    <h:head>

        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />

        <title>TODO supply a title</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    </h:head>

    <h:body style="background-image: url(assets/images/fd.jpg)">
            
        <h:form>         
        
            <div align="center">
            
                <p:commandButton value="Login" onclick="PF('dlg').show();"></p:commandButton>
                <p:commandButton value="Register" onclick="PF('dlgReg').show();"></p:commandButton>
           
                
                <h2 style="color: wheat">WELCOME</h2>
                
                <p:carousel vertical="true" circular="true" autoPlayInterval="5000" numVisible="1" effect="easeInStrong" headerText="Fruits" style="margin-bottom:0">
        <p:tab title="Apple">
            <h:panelGrid columns="2" cellpadding="10">
                <p:graphicImage value="assets/images/fruits/fruits/apple.png" />
                <h:outputText
                    value="Apples contain no fat, sodium or cholesterol and are a good source of fiber. Apple trees take four to five years to produce their first fruit." />
            </h:panelGrid>
        </p:tab>
        <p:tab title="Blueberry">
            <h:panelGrid columns="2" cellpadding="10">
                <p:graphicImage value="assets/images/fruits/fruits/blueberries.png" />
                <h:outputText value="Blueberries Are Low in Calories, But High in Nutrients. The blueberry is a flowering shrub that produces berries that are colored blue to purple, also known as blueberries. It is strongly related to similar shrubs, such as those that produce cranberries and huckleberries." />
            </h:panelGrid>
        </p:tab>
        <p:tab title="Godfather Part III">
            <h:panelGrid columns="2" cellpadding="10">
                <p:graphicImage value="assets/images/fruits/fruits/strawberry.png" />
                <h:outputText value="Strawberries contain potassium, vitamin K and magnesium which are important for bone health. Studies show freeze-dried strawberry powder may help prevent human oesophageal cancer. Strawberries are filled with biotin, which helps build strong hair and nails." />
            </h:panelGrid>
        </p:tab>
    </p:carousel> 
                
                <h2 style="color: wheat"><p:commandLink action="shopping.xhtml">Click to start Shopping...!</p:commandLink></h2>
    </div>
            
            

            <p:growl id="growl" sticky="true" showDetail="true" life="3000" />

<!--             <p:dialog header="Register" widgetVar="dlgReg" resizable="false">

                <h:panelGrid columns="2" cellpadding="5">

                    <h:outputLabel for="name" value="Username:" />

                    <p:inputText id="name" value="#{userLoginView.username}" required="true" label="username" />

                    <h:outputLabel for="new_password" value="Password:" />

                    <p:password id="new_password" value="#{userLoginView.password}" required="true" label="password" />

                    <h:outputLabel for="email" value="Email" style="font-weight:bold"/>                    
                    <p:inputText id="regex" validatorMessage="Value does not match pattern.">
                    <f:validateRegex pattern="^[a-zA-Z]+$" />
                    </p:inputText>

                    <f:facet name="footer">

                        <p:commandButton value="Submit" />
                        
                        <p:commandButton value="Cancel" />

                    </f:facet>  

                </h:panelGrid>

            </p:dialog>-->

        

        <p:dialog header="Login" widgetVar="dlg" resizable="false">

                <h:panelGrid columns="2" cellpadding="5">

                    <h:outputLabel for="username" value="Username:" />
                    <p:inputText id="username" value="#{userLoginBean.username}" required="true" label="username" />
                    <h:outputLabel for="password" value="Password:" />
                    <p:password id="password" value="#{userLoginBean.password}" required="true" label="password" />

                    <f:facet name="footer">

                        <p:commandButton value="Login" update="growl" actionListener="#{userLoginBean.login}"                  

                                         oncomplete="handleLoginRequest(xhr, status, args)"/>
                    </f:facet>  

                </h:panelGrid>
            </p:dialog>
        </h:form>



        <script type="text/javascript">

            function handleLoginRequest(xhr, status, args) {

                if (args.validationFailed || !args.loggedIn) {

                    PF('dlg').jq.effect("shake", {times: 5}, 100);

                } else {

                    PF('dlg').hide();

                    $('#loginLink').fadeOut();

                    window.location.href = "shopping.xhtml";

                }

            }

        </script>

    </h:body>

</html>